(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bd44414"],{"04d1":function(e,t,r){var i=r("342f"),n=i.match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},"0d77":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"gallery"},[r("button",{staticClass:"gallery__up",attrs:{type:"button"},on:{click:e.scrollUp}}),e.isSlider?r("gallery-slider",{attrs:{slide:e.slide,index:e.index},on:{close:e.closeSlider,nextSlide:e.nextSlide,prevSlide:e.prevSlide}}):e._e(),e.visible?r("transition",{attrs:{name:"fade"}},[r("Modal",{attrs:{post:e.post},on:{close:e.addNewItem,refresh:e.refresh,onSubmit:e.onSubmit,editPost:e.editPost}})],1):e._e(),r("div",{staticClass:"container"},[r("div",{staticClass:"gallery__title-wrapper"},[r("h1",{staticClass:"title gallery__title"},[e._v("Gallery")]),e.$store.state.auth.user.loggedIn?r("button",{staticClass:"gallery__add",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.addNewItem.apply(null,arguments)}}},[e._v("+ Add new item")]):e._e()]),e.gallery.length?r("div",{staticClass:"gallery__list"},e._l(e.sortGallery,(function(t,i){return r("div",{key:i,staticClass:"gallery__item h-anim"},[r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.image,expression:"item.image",arg:"background-image"}],ref:"item",refInFor:!0,staticClass:"gallery__item-wrapper",on:{click:function(r){return r.preventDefault(),e.showSlide(t,i,r)}}},[e.$store.state.auth.user.loggedIn?r("button",{staticClass:"gallery__item-delete",on:{click:function(r){return r.preventDefault(),e.deletePost(t.id)}}},[e._v("✖")]):e._e(),e.$store.state.auth.user.loggedIn?r("button",{staticClass:"gallery__item-delete edit",on:{click:function(r){return r.preventDefault(),e.openUpdatePost(t)}}},[r("Edit")],1):e._e(),r("div",{staticClass:"gallery__item-text"},[e._v(e._s(t.description?t.description:t.title))])])])})),0):r("div",{staticClass:"gallery__empty"},[e._v("Art not found")])])],1)},n=[],s=r("5530"),l=r("1da1"),a=(r("4e82"),r("ac1f"),r("1276"),r("c740"),r("96cf"),r("714b")),o=r("ce96"),c=r("66d5"),u=r.n(c),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("article",{ref:"slider",staticClass:"gallery__slider"},[r("div",{staticClass:"gallery__slider-wrapper"},[r("div",{staticClass:"gallery__slider-control"},[r("button",{staticClass:"gallery__slider-zoom",attrs:{type:"button"},on:{click:function(t){e.isZoom=!e.isZoom}}},[e._v(" "+e._s(e.isZoom?"-":"+")+" zoom")]),r("span",{staticClass:"gallery__slider-text"},[e._v(e._s(e.slide.description?e.slide.description:e.slide.title))]),r("button",{staticClass:"gallery__slider-close",on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[e._v("✖")])]),r("div",{staticClass:"gallery__slider-content"},[r("img",{class:["gallery__slider-image",{zoom:e.isZoom}],attrs:{src:e.slide.image}})]),r("div",{staticClass:"gallery__slider-arrows"},[r("button",{staticClass:"gallery__slider-arrow prev",attrs:{type:"button"},on:{click:function(t){return e.$emit("prevSlide",{slide:e.slide,index:e.index})}}}),r("button",{staticClass:"gallery__slider-arrow next",attrs:{type:"button"},on:{click:function(t){return e.$emit("nextSlide",{slide:e.slide,index:e.index})}}})])])])},f=[],p={name:"GallerySlider",data:function(){return{isZoom:!1}},props:["slide","index"],mounted:function(){var e=this;document.addEventListener("click",(function(t){t.target===e.$refs.slider&&e.$emit("close")}))}},h=p,g=r("2877"),v=Object(g["a"])(h,d,f,!1,null,null,null),_=v.exports,y={name:"Gallery",metaInfo:function(){return{title:"Gallery",titleTemplate:"Zoe | %s"}},components:{GallerySlider:_,Modal:a["a"],Edit:u.a},data:function(){return{visible:!1,post:null,gallery:[],isSlider:!1,index:null,slide:""}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.refresh();case 2:Object(o["a"])(),document.addEventListener("scroll",(function(){Object(o["b"])(".gallery__up")&&(window.pageYOffset>window.innerHeight?(Object(o["b"])(".gallery__up").style.opacity="1",Object(o["b"])(".gallery__up").style.visibility="visible"):(Object(o["b"])(".gallery__up").style.opacity="0",Object(o["b"])(".gallery__up").style.visibility="hidden"))}));case 4:case"end":return t.stop()}}),t)})))()},computed:{sortGallery:function(){return this.gallery.sort((function(e,t){return+e.title.split("-")[0]-+t.title.split("-")[0]}))}},methods:{scrollUp:function(){window.scrollTo({top:0,behavior:"smooth"})},nextSlide:function(e){var t=e.slide,r=e.index;r!==this.gallery.length-1&&(this.index=this.gallery.findIndex((function(e){return e.id===t.id}))+1,this.slide=this.gallery[r+1])},prevSlide:function(e){var t=e.slide,r=e.index;r&&(this.index=this.gallery.findIndex((function(e){return e.id===t.id}))-1,this.slide=this.gallery[r-1])},showSlide:function(e,t,r){r.target===this.$refs.item[t]&&e&&(this.index=t,this.slide=e,this.isSlider=!0)},refresh:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("gallery/fetchGallery",{path:e.$route.path});case 2:e.gallery=t.sent;case 3:case"end":return t.stop()}}),t)})))()},addNewItem:function(){this.visible=!this.visible,this.post=null},closeSlider:function(){this.isSlider=!1,this.slide=null},deletePost:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=5;break}return r.next=3,t.$store.dispatch("gallery/deletePost",{id:e,path:t.$route.path});case 3:return r.next=5,t.refresh();case 5:case"end":return r.stop()}}),r)})))()},openUpdatePost:function(e){e&&(this.visible=!0,this.post=e)},onSubmit:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("gallery/uploadData",Object(s["a"])(Object(s["a"])({},e),{},{path:t.$route.path}));case 2:case"end":return r.stop()}}),r)})))()},editPost:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("gallery/editPost",Object(s["a"])(Object(s["a"])({},e),{},{path:t.$route.path}));case 2:case"end":return r.stop()}}),r)})))()}},watch:{isSlider:function(e){Object(o["b"])("body").style.overflow=e?"hidden":""}}},m=y,b=Object(g["a"])(m,i,n,!1,null,null,null);t["default"]=b.exports},"4e82":function(e,t,r){"use strict";var i=r("23e7"),n=r("59ed"),s=r("7b0b"),l=r("07fa"),a=r("577e"),o=r("d039"),c=r("addb"),u=r("a640"),d=r("04d1"),f=r("d998"),p=r("2d00"),h=r("512c"),g=[],v=g.sort,_=o((function(){g.sort(void 0)})),y=o((function(){g.sort(null)})),m=u("sort"),b=!o((function(){if(p)return p<70;if(!(d&&d>3)){if(f)return!0;if(h)return h<603;var e,t,r,i,n="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(i=0;i<47;i++)g.push({k:t+i,v:r})}for(g.sort((function(e,t){return t.v-e.v})),i=0;i<g.length;i++)t=g[i].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}})),w=_||!y||!m||!b,x=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:a(t)>a(r)?1:-1}};i({target:"Array",proto:!0,forced:w},{sort:function(e){void 0!==e&&n(e);var t=s(this);if(b)return void 0===e?v.call(t):v.call(t,e);var r,i,a=[],o=l(t);for(i=0;i<o;i++)i in t&&a.push(t[i]);a=c(a,x(e)),r=a.length,i=0;while(i<r)t[i]=a[i++];while(i<o)delete t[i++];return t}})},"512c":function(e,t,r){var i=r("342f"),n=i.match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},addb:function(e,t){var r=Math.floor,i=function(e,t){var l=e.length,a=r(l/2);return l<8?n(e,t):s(i(e.slice(0,a),t),i(e.slice(a),t),t)},n=function(e,t){var r,i,n=e.length,s=1;while(s<n){i=s,r=e[s];while(i&&t(e[i-1],r)>0)e[i]=e[--i];i!==s++&&(e[i]=r)}return e},s=function(e,t,r){var i=e.length,n=t.length,s=0,l=0,a=[];while(s<i||l<n)s<i&&l<n?a.push(r(e[s],t[l])<=0?e[s++]:t[l++]):a.push(s<i?e[s++]:t[l++]);return a};e.exports=i},c740:function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").findIndex,s=r("44d2"),l="findIndex",a=!0;l in[]&&Array(1)[l]((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(l)},d998:function(e,t,r){var i=r("342f");e.exports=/MSIE|Trident/.test(i)}}]);